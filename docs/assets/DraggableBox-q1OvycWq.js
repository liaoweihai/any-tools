import{C as He,E as v,I as Ue,O as re,P as _,R as O,S as V,_ as qe,c as $,ct as ue,d as D,f as w,h as Ve,k as Je,l as A,lt as ce,o as E,st as W,u as pe,w as Be}from"./codemirror-B25QCqWr.js";import{h as de,p as Ke}from"./vendor-vue-C93_ecI2.js";import{t as Qe}from"./index-D7SmQqDE.js";import{t as Ze}from"./echarts-xBohgwka.js";var _e=["data-el-id","data-box-id"],et={key:0,class:"absolute -inset-1 bg-gradient-to-r from-cyan-400/20 to-blue-500/20 rounded-lg blur-sm -z-10"},tt={class:"relative z-10 w-full h-full"},nt={key:0,class:"relative w-full h-full"},lt={key:1,class:"relative w-full h-full"},it={key:0},ot=["src"],at=["width","height"],st=["id","d"],rt=["href","startOffset","text-anchor"],ut=["id"],ct=["id"],dt={key:0,class:"w-full h-full flex items-center justify-center text-xs text-gray-400 pointer-events-none"},mt=["width","height"],ft=["x1","y1","x2","y2","stroke","stroke-width","stroke-dasharray"],ht={key:1,class:"absolute inset-0 rounded-lg",style:{background:"linear-gradient(45deg, transparent 30%, rgba(6, 182, 212, 0.1) 50%, transparent 70%)","background-size":"200% 200%",animation:"tech-border 2s linear infinite"}},yt={key:2,class:"absolute -top-2 -right-2 w-4 h-4 bg-cyan-400 rounded-full cursor-move opacity-80 hover:opacity-100",style:{border:"0.5px solid #111827"}},gt=qe({name:"DraggableBox",__name:"DraggableBox",props:{element:{},selected:{type:Boolean},config:{},zoom:{},dbMap:{},metricsMap:{},preview:{type:Boolean},selectedId:{},parentOffset:{},parentSize:{}},emits:["update:position","update:size","select","show-guidelines","hide-guidelines","report-metrics","drag-end"],setup(l,{emit:Le}){const e=l,p=Le;function Oe(t){var u,h,y,b;if(e.element.type!=="group")return!1;const n=e.element.width||0,s=e.element.height||0,i=t.width||0,o=t.height||0,a=Number((h=(u=t.left)!=null?u:t.x)!=null?h:0),r=Number((b=(y=t.top)!=null?y:t.y)!=null?b:0);return t.type==="image"&&n>0&&s>0&&i===n&&o===s&&a===0&&r===0}const j=O(null),me=O(null);let N=null;const ee=O(!1),te=O(!1),J=O(0),K=O(0),G=O(0),P=O(0),fe=O({x:0,y:0}),C=O(null),B=O(null),F=O(null),H=O(0),U=O(0);let Y=null;function xe(t){var n;return!t||!t.colors||t.colors.length<2?null:`linear-gradient(${(n=t.angle)!=null?n:0}deg, ${t.colors.join(", ")})`}function he(){var t,n,s;if(e.element.type==="text"&&e.element.autoSize!==!1&&j.value){const i=j.value.getBoundingClientRect(),o=(t=e.zoom)!=null?t:1;return{w:Math.max(1,i.width/o),h:Math.max(1,i.height/o)}}return{w:(n=e.element.width)!=null?n:1,h:(s=e.element.height)!=null?s:1}}function $e(t){e.preview||(t.preventDefault(),ee.value=!0,te.value=!1,J.value=t.clientX,K.value=t.clientY,G.value=e.element.left,P.value=e.element.top,fe.value={x:0,y:0},window.addEventListener("mousemove",ye,{passive:!1}),window.addEventListener("mouseup",ne),p("select",e.element.id))}function Ae(t){e.preview||(t.stopPropagation(),$e(t))}function Xe(t){e.preview||t.stopPropagation()}function ye(t){var Q,Z;if(F.value||!ee.value)return;if(!te.value){if(Math.abs(t.clientX-J.value)<3&&Math.abs(t.clientY-K.value)<3)return;te.value=!0}t.preventDefault();const n=(t.clientX-J.value)/((Q=e.zoom)!=null?Q:1),s=(t.clientY-K.value)/((Z=e.zoom)!=null?Z:1);fe.value={x:n,y:s};let i=G.value+n,o=P.value+s;const a=he(),r=!!e.parentSize,u=5,h=e.config.width,y=e.config.height;if(!r){Math.abs(i)<u&&(i=0),Math.abs(o)<u&&(o=0),Math.abs(i+a.w-h)<u&&(i=h-a.w),Math.abs(o+a.h-y)<u&&(o=y-a.h);const g=h/2,k=y/2,T=i+a.w/2,I=o+a.h/2;Math.abs(T-g)<u&&(i=g-a.w/2),Math.abs(I-k)<u&&(o=k-a.h/2)}const b=e.metricsMap?Object.values(e.metricsMap).filter(g=>g.id!==e.element.id):[],x=1.5,M=4;if(C.value){const g=i+a.w/2;let k=0;C.value.type==="left"?k=Math.abs(i-C.value.base):C.value.type==="right"?k=Math.abs(i+a.w-C.value.base):k=Math.abs(g-C.value.base),k<=M?C.value.type==="left"?i=C.value.base:C.value.type==="right"?i=C.value.base-a.w:i=C.value.base-a.w/2:C.value=null}if(B.value){const g=o+a.h/2;let k=0;B.value.type==="top"?k=Math.abs(o-B.value.base):B.value.type==="bottom"?k=Math.abs(o+a.h-B.value.base):k=Math.abs(g-B.value.base),k<=M?B.value.type==="top"?o=B.value.base:B.value.type==="bottom"?o=B.value.base-a.h:o=B.value.base-a.h/2:B.value=null}let m=null;for(const g of b){const k=Math.abs(i-g.left),T=Math.abs(i+a.w-g.right),I=Math.abs(i+a.w/2-g.centerX),q=[{type:"left",base:g.left,dist:k},{type:"right",base:g.right,dist:T},{type:"centerX",base:g.centerX,dist:I}];for(const R of q)(!m||R.dist<m.dist)&&(m=R)}m&&m.dist<=x&&(m.type==="left"?i=m.base:m.type==="right"?i=m.base-a.w:i=m.base-a.w/2,C.value={type:m.type,base:m.base});let d=null;for(const g of b){const k=Math.abs(o-g.top),T=Math.abs(o+a.h-g.bottom),I=Math.abs(o+a.h/2-g.centerY),q=[{type:"top",base:g.top,dist:k},{type:"bottom",base:g.bottom,dist:T},{type:"centerY",base:g.centerY,dist:I}];for(const R of q)(!d||R.dist<d.dist)&&(d=R)}d&&d.dist<=x&&(d.type==="top"?o=d.base:d.type==="bottom"?o=d.base-a.h:o=d.base-a.h/2,B.value={type:d.type,base:d.base}),r||(i=Math.max(0,Math.min(i,e.config.width-a.w)),o=Math.max(0,Math.min(o,e.config.height-a.h)));const S=r&&e.parentOffset?e.parentOffset.left:0,z=r&&e.parentOffset?e.parentOffset.top:0,L=i+S,X=o+z,c=i+a.w+S,f=o+a.h+z,ae=i+a.w/2+S,se=o+a.h/2+z;p("show-guidelines",{left:L,top:X,right:c,bottom:f,centerX:ae,centerY:se}),Y&&cancelAnimationFrame(Y),Y=requestAnimationFrame(()=>{p("update:position",{id:e.element.id,left:Math.round(i),top:Math.round(o)})})}function ne(){var t;if(ee.value&&te.value){const n=(t=j.value)==null?void 0:t.getBoundingClientRect();n&&p("drag-end",{id:e.element.id,globalLeft:n.left,globalTop:n.top})}ee.value=!1,F.value=null,fe.value={x:0,y:0},C.value=null,B.value=null,p("hide-guidelines"),Y&&(cancelAnimationFrame(Y),Y=null),window.removeEventListener("mousemove",ye),window.removeEventListener("mouseup",ne),window.removeEventListener("mousemove",ve)}He(()=>{Y&&(cancelAnimationFrame(Y),Y=null),window.removeEventListener("mousemove",ye),window.removeEventListener("mouseup",ne),window.removeEventListener("mousemove",ve),N&&(N.dispose(),N=null)});const le=$(()=>e.element.type==="text"?e.element.autoSize!==!1:!1);function Ye(t){switch(t){case"left":return"flex-start";case"center":return"center";case"right":return"flex-end";default:return"flex-start"}}const Fe=$(()=>{var s,i,o,a,r,u,h,y,b,x,M,m,d;const t={color:((s=e.element.style)==null?void 0:s.color)||e.config.globalColor,fontFamily:((i=e.element.style)==null?void 0:i.fontFamily)||e.config.globalFontFamily,fontSize:`${(a=(o=e.element.style)==null?void 0:o.fontSize)!=null?a:e.config.globalFontSize}px`};((r=e.element.style)==null?void 0:r.letterSpacing)!==void 0&&e.element.style.letterSpacing!==null&&(t.letterSpacing=`${e.element.style.letterSpacing}px`),((u=e.element.style)==null?void 0:u.lineHeight)!==void 0&&(t.lineHeight=String(e.element.style.lineHeight)),(h=e.element.style)!=null&&h.fontStyle&&(t.fontStyle=e.element.style.fontStyle),(y=e.element.style)!=null&&y.fontWeight&&(t.fontWeight=e.element.style.fontWeight),(b=e.element.style)!=null&&b.textAlign&&(t.textAlign=e.element.style.textAlign),(x=e.element.style)!=null&&x.textDecoration&&(t.textDecoration=e.element.style.textDecoration),((M=e.element.style)==null?void 0:M.textOrientation)==="vertical"&&(t.writingMode="vertical-rl",t.textOrientation="upright"),(m=e.element.style)!=null&&m.textIndent&&(t.textIndent=String(e.element.style.textIndent));const n=xe((d=e.element.style)==null?void 0:d.textGradient);return n&&(t.background=n,t.color="transparent",t["-webkit-background-clip"]="text",t["background-clip"]="text",t["-webkit-text-fill-color"]="transparent"),t}),Te=$(()=>{var r,u,h,y,b,x,M,m,d,S,z,L;const t={position:"absolute",left:`${e.element.left}px`,top:`${e.element.top}px`,cursor:e.preview?((r=e.element.eventBinding)==null?void 0:r.enabled)&&((u=e.element.eventBinding)==null?void 0:u.cursor)||"default":"move",outline:e.preview?"none":e.selected?"0.5px solid #42b883":"0.5px solid #999",zIndex:`${(h=e.element.zIndex)!=null?h:1}`,boxSizing:"border-box"},n=xe((y=e.element.style)==null?void 0:y.backgroundGradient);n?t.background=n:t.background=((b=e.element.style)==null?void 0:b.backgroundColor)||"transparent",le.value?t.display="inline-block":(t.width=`${(x=e.element.width)!=null?x:1}px`,t.height=`${(M=e.element.height)!=null?M:1}px`,t.display="block"),((m=e.element.style)==null?void 0:m.opacity)!==void 0&&(t.opacity=String(e.element.style.opacity));const s="1px dashed rgba(148,163,184,0.6)",i=(d=e.element.style)==null?void 0:d.border;i&&i!==s?t.border=i:e.element.type==="container"&&!e.preview?t.border=s:e.preview&&(t.border="none"),(S=e.element.style)!=null&&S.borderRadius&&(t.borderRadius=e.element.style.borderRadius),(z=e.element.style)!=null&&z.boxShadow&&(t.boxShadow=String(e.element.style.boxShadow));const o=(L=e.element.style)==null?void 0:L.skewAngle,a=typeof o=="number"?o:Number(o);return!Number.isNaN(a)&&a!==0&&(t.transform=`skewX(${a}deg)`),t}),Ie=$(()=>e.preview?["absolute","select-none","border-none","outline-none"]:["absolute cursor-move select-none transition-shadow duration-100","border-transparent hover:border-cyan-400/50","hover:shadow-lg hover:shadow-cyan-400/20","group",{"border-cyan-400 shadow-lg shadow-cyan-400/30 ring-2 ring-cyan-400/20":e.selected}]),Re=$(()=>{var n;const t={...Fe.value,pointerEvents:e.preview?"auto":"none"};return le.value?(t.display="flex",t.alignItems="center",t.justifyContent=Ye((n=e.element.style)==null?void 0:n.textAlign)):(t.display="block",t.whiteSpace="pre-wrap",t.wordBreak="break-word",t.overflow="hidden"),t}),je=$(()=>{var n,s,i,o,a,r;const t={};return(n=e.element.style)!=null&&n.fontFamily&&(t.fontFamily=String(e.element.style.fontFamily)),((s=e.element.style)==null?void 0:s.fontSize)!==void 0&&(t.fontSize=`${e.element.style.fontSize}px`),(i=e.element.style)!=null&&i.color&&(t.fill=String(e.element.style.color)),((o=e.element.style)==null?void 0:o.letterSpacing)!==void 0&&(t.letterSpacing=`${e.element.style.letterSpacing}px`),(a=e.element.style)!=null&&a.fontWeight&&(t.fontWeight=String(e.element.style.fontWeight)),(r=e.element.style)!=null&&r.fontStyle&&(t.fontStyle=String(e.element.style.fontStyle)),t}),De=$(()=>{var S,z,L,X,c,f;const t=Math.max(1,Number((S=e.element.width)!=null?S:1)),n=Math.max(1,Number((z=e.element.height)!=null?z:1)),s=t/2,i=n/2,o=((L=e.element.style)==null?void 0:L.arcText)||{},a=Math.max(1,Number((X=o.radius)!=null?X:Math.min(t,n)/2-4)),r=Number((c=o.startAngle)!=null?c:0),u=Math.max(0,Number((f=o.sweepAngle)!=null?f:180)),h=o.clockwise!==!1,y=r*Math.PI/180,b=(r+u)*Math.PI/180,x=s+a*Math.cos(y),M=i+a*Math.sin(y),m=s+a*Math.cos(b),d=i+a*Math.sin(b);return`M ${x} ${M} A ${a} ${a} 0 ${u>180?1:0} ${h?1:0} ${m} ${d}`}),Ee=$(()=>{var n;const t=((n=e.element.style)==null?void 0:n.textAlign)||"center";return t==="left"?"0%":t==="right"?"100%":"50%"}),We=$(()=>{var n;const t=((n=e.element.style)==null?void 0:n.textAlign)||"center";return t==="left"?"start":t==="right"?"end":"middle"});function ge(){var b,x,M;const t=(b=e.zoom)!=null?b:1,n=j.value?j.value.getBoundingClientRect():null,s=n?Math.max(1,n.width/t):(x=e.element.width)!=null?x:1,i=n?Math.max(1,n.height/t):(M=e.element.height)!=null?M:1,o=e.element.left,a=e.element.top,r=o+s,u=a+i,h=o+s/2,y=a+i/2;p("report-metrics",{id:e.element.id,left:o,top:a,width:s,height:i,right:r,bottom:u,centerX:h,centerY:y})}Be(()=>{V(()=>ge())}),_(()=>[e.element.left,e.element.top,e.element.width,e.element.height],()=>{V(()=>ge())});function Ge(t,n){if(!t||!n)return;const s=n.replace(/\[(\d+)\]/g,".$1").split(".").filter(Boolean);let i=t;for(const o of s){if(i==null)return;i=i[Number.isInteger(Number(o))?Number(o):o]}return i}const ie=$(()=>{var r,u;if(e.element.type!=="text"){const h=e.element.text;return h==null?"":String(h)}const t=e.element.dynamic,n=(r=e.element.text)!=null?r:"";if(!t||!t.enabled)return String(n);const s=t.objectName||"",i=t.propertyPath||"";if(!s||!i)return String(n);const o=(u=e.dbMap)==null?void 0:u[s];if(!o)return String(n);const a=Ge(o,i);if(a==null)return String(n);if(typeof a=="string")return a;if(typeof a=="number"||typeof a=="boolean")return String(a);try{return JSON.stringify(a)}catch{return String(n)}}),Me=$(()=>{var c,f,ae,se,Q,Z,g,k,T,I,q,R,ze;const t=String(ie.value||""),n=(c=e.element.style)==null?void 0:c.textWave,s=!!((f=e.element.style)!=null&&f.skewFlowEnabled),i=(ae=e.element.style)==null?void 0:ae.skewAngle,o=typeof i=="number"?i:Number(i);if((!n||!n.enabled)&&(!s||Number.isNaN(o)||o===0))return null;const a=((se=e.element.style)==null?void 0:se.textOrientation)||"horizontal",r=Number((Z=(Q=e.element.style)==null?void 0:Q.fontSize)!=null?Z:e.config.globalFontSize),u=Number((k=(g=e.element.style)==null?void 0:g.letterSpacing)!=null?k:0),h=Number((I=(T=e.element.style)==null?void 0:T.lineHeight)!=null?I:Math.round(r*1.2)),y=Math.tan(o*Math.PI/180),b=Math.max(1,Math.round(r*.6+u)),x=Math.max(1,Math.round(h)),M=Number((q=n==null?void 0:n.amplitude)!=null?q:8),m=Number((R=n==null?void 0:n.frequency)!=null?R:.5),d=Number((ze=n==null?void 0:n.phase)!=null?ze:0),S=[];let z=0,L=0,X=0;for(const Ne of t){if(Ne===`
`){S.push({type:"br"}),L=0,X++;continue}let Ce=0,be=0;if(s&&!Number.isNaN(o)&&o!==0)if(a==="horizontal"){const we=L*b;be+=Math.round(y*we)}else{const we=X*x;Ce+=Math.round(y*we)}n&&n.enabled&&(be+=Math.round(M*Math.sin(z*m+d))),S.push({type:"char",ch:Ne,style:{display:"inline-block",transform:`translate(${Ce}px, ${be}px)`}}),z++,L++}return S});_(ie,()=>{V(()=>ge())});function oe(t,n){var s,i;e.element.type==="text"&&le.value||(F.value=t,J.value=n.clientX,K.value=n.clientY,G.value=e.element.left,P.value=e.element.top,H.value=(s=e.element.width)!=null?s:he().w,U.value=(i=e.element.height)!=null?i:he().h,window.addEventListener("mousemove",ve),window.addEventListener("mouseup",ne))}function ve(t){var d,S;if(!F.value)return;const n=(t.clientX-J.value)/((d=e.zoom)!=null?d:1),s=(t.clientY-K.value)/((S=e.zoom)!=null?S:1);let i=H.value,o=U.value,a=G.value,r=P.value;const u=10;F.value==="se"?(i=Math.max(u,H.value+n),o=Math.max(u,U.value+s)):F.value==="ne"?(i=Math.max(u,H.value+n),o=Math.max(u,U.value-s),r=P.value+s):F.value==="sw"?(i=Math.max(u,H.value-n),o=Math.max(u,U.value+s),a=G.value+n):F.value==="nw"&&(i=Math.max(u,H.value-n),o=Math.max(u,U.value-s),a=G.value+n,r=P.value+s),i=Math.min(i,e.config.width-a),o=Math.min(o,e.config.height-r);const h=a,y=r,b=a+i,x=r+o,M=a+i/2,m=r+o/2;p("show-guidelines",{left:h,top:y,right:b,bottom:x,centerX:M,centerY:m}),p("update:size",{id:e.element.id,width:Math.round(i),height:Math.round(o),left:Math.round(a),top:Math.round(r)})}V(()=>{var t;(t=j.value)==null||t.getBoundingClientRect()});function Se(){if(e.element.type!=="chart"||!me.value)return;N||(N=Ze(me.value));const t=e.element.chartOption||Pe(e.element.chartType||"line");N.setOption(t,!0)}function Pe(t){return t==="pie"?{backgroundColor:"transparent",tooltip:{trigger:"item"},legend:{top:"5%",left:"center",textStyle:{color:"#fff"}},series:[{name:"分类占比",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:8,borderColor:"#111",borderWidth:2},label:{show:!0,color:"#fff"},labelLine:{show:!0},data:[{value:1048,name:"A"},{value:735,name:"B"},{value:580,name:"C"},{value:484,name:"D"},{value:300,name:"E"}]}]}:t==="mix"?{backgroundColor:"transparent",color:["#00bcd4","#ff9800"],tooltip:{trigger:"axis"},legend:{textStyle:{color:"#fff"}},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLine:{lineStyle:{color:"#888"}},axisLabel:{color:"#ccc"}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#888"}},axisLabel:{color:"#ccc"}},series:[{name:"销量",type:"bar",data:[120,200,150,80,70,110,130],itemStyle:{borderRadius:[4,4,0,0]}},{name:"均价",type:"line",smooth:!0,data:[30,40,45,50,49,60,70],lineStyle:{width:2}}]}:t==="bar"?{backgroundColor:"transparent",color:["#42b883"],tooltip:{trigger:"axis"},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLine:{lineStyle:{color:"#888"}},axisLabel:{color:"#ccc"}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#888"}},axisLabel:{color:"#ccc"}},series:[{type:"bar",data:[120,200,150,80,70,110,130],itemStyle:{borderRadius:[4,4,0,0]}}]}:{backgroundColor:"transparent",color:["#42b883"],tooltip:{trigger:"axis"},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLine:{lineStyle:{color:"#888"}},axisLabel:{color:"#ccc"}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#888"}},axisLabel:{color:"#ccc"}},series:[{type:"line",smooth:!0,data:[150,230,224,218,135,147,260],lineStyle:{width:2}}]}}Be(()=>{Se()}),_(()=>e.element.type,()=>{e.element.type==="chart"?V(Se):N&&(N.dispose(),N=null)}),_(()=>e.element.chartOption,t=>{N&&e.element.type==="chart"&&t&&N.setOption(t,!0)},{deep:!0}),_(()=>[e.element.width,e.element.height,e.element.left,e.element.top],()=>{N&&V(()=>N&&N.resize())});function ke(t){const n=!!e.parentSize,s=n&&e.parentOffset?e.parentOffset.left:0,i=n&&e.parentOffset?e.parentOffset.top:0;p("show-guidelines",{left:t.left+s,top:t.top+i,right:t.right+s,bottom:t.bottom+i,centerX:t.centerX+s,centerY:t.centerY+i})}return(t,n)=>{var i,o,a,r,u,h,y,b,x,M,m,d,S,z,L,X;const s=Je("DraggableBox",!0);return Ue((v(),w("div",{class:W(Ie.value),style:ue(Te.value),onMousedown:Ae,onClick:Xe,ref_key:"elRef",ref:j,"data-el-id":e.element.id,"data-box-id":e.element.id},[l.selected?(v(),w("div",et)):D("",!0),A("div",tt,[l.element.type==="group"&&l.preview?(v(),w("div",nt,[(v(!0),w(E,null,re(l.element.children||[],c=>(v(),pe(s,{key:c.id,element:c,selected:!1,config:l.config,zoom:l.zoom,dbMap:l.dbMap,preview:!0},null,8,["element","config","zoom","dbMap"]))),128))])):l.element.type==="group"&&l.element.editable?(v(),w("div",lt,[(v(!0),w(E,null,re(l.element.children||[],c=>(v(),pe(s,{key:c.id,element:c,selected:l.selectedId===c.id,"selected-id":l.selectedId,config:l.config,zoom:l.zoom,dbMap:l.dbMap,"metrics-map":void 0,preview:Oe(c),"parent-offset":{left:l.element.left,top:l.element.top},"parent-size":{width:l.element.width||1,height:l.element.height||1},onSelect:n[0]||(n[0]=f=>p("select",f)),"onUpdate:position":n[1]||(n[1]=f=>p("update:position",f)),"onUpdate:size":n[2]||(n[2]=f=>p("update:size",f)),onShowGuidelines:ke,onHideGuidelines:n[3]||(n[3]=()=>p("hide-guidelines")),onReportMetrics:n[4]||(n[4]=f=>p("report-metrics",f))},null,8,["element","selected","selected-id","config","zoom","dbMap","preview","parent-offset","parent-size"]))),128))])):D("",!0),l.element.type==="text"?(v(),w("div",{key:2,class:W(["w-full h-full",l.element.className].filter(Boolean).join(" ")),style:ue(Re.value)},[Me.value?(v(!0),w(E,{key:0},re(Me.value,(c,f)=>(v(),w(E,{key:f},[c.type==="br"?(v(),w("br",it)):(v(),w("span",{key:1,style:ue(c.style)},ce(c.ch),5))],64))),128)):(v(),w(E,{key:1},[Ve(ce(ie.value),1)],64))],6)):l.element.type==="image"?(v(),w("img",{key:3,src:l.element.src,class:W(["w-full h-full",((i=l.element.style)==null?void 0:i.objectFit)==="contain"?"object-contain":((o=l.element.style)==null?void 0:o.objectFit)==="fill"?"object-fill":((a=l.element.style)==null?void 0:a.objectFit)==="scale-down"?"object-scale-down":((r=l.element.style)==null?void 0:r.objectFit)==="none"?"object-none":"object-cover",l.element.className].filter(Boolean).join(" ")),alt:"Image element"},null,10,ot)):l.element.type==="arc-text"?(v(),w("svg",{key:4,class:W(["w-full h-full",l.element.className].filter(Boolean).join(" ")),style:{display:"block"},width:l.element.width||1,height:l.element.height||1,xmlns:"http://www.w3.org/2000/svg"},[A("defs",null,[A("path",{id:`arc-${l.element.id}`,d:De.value,fill:"none"},null,8,st)]),A("text",{style:ue(je.value)},[A("textPath",{href:`#arc-${l.element.id}`,startOffset:Ee.value,"text-anchor":We.value},ce(ie.value),9,rt)],4)],10,at)):l.element.type==="chart"?(v(),w("div",{key:5,class:W(["w-full h-full bg-gray-800/50 rounded",l.element.className].filter(Boolean).join(" ")),id:l.element.elementId||void 0},[A("div",{ref_key:"chartRef",ref:me,class:"w-full h-full"},null,512)],10,ut)):l.element.type==="container"?(v(),w("div",{key:6,class:W(["w-full h-full relative",l.element.className].filter(Boolean).join(" ")),id:l.element.elementId||void 0,style:{display:"block"}},[(v(!0),w(E,null,re(l.element.children||[],c=>(v(),pe(s,{key:c.id,element:c,selected:l.selectedId===c.id,"selected-id":l.selectedId,config:l.config,zoom:l.zoom,dbMap:l.dbMap,"metrics-map":void 0,preview:l.preview,"parent-offset":{left:l.element.left,top:l.element.top},"parent-size":{width:l.element.width||1,height:l.element.height||1},onSelect:n[5]||(n[5]=f=>p("select",f)),"onUpdate:position":n[6]||(n[6]=f=>p("update:position",f)),"onUpdate:size":n[7]||(n[7]=f=>p("update:size",f)),onShowGuidelines:ke,onHideGuidelines:n[8]||(n[8]=()=>p("hide-guidelines")),onReportMetrics:n[9]||(n[9]=f=>p("report-metrics",f)),onDragEnd:n[10]||(n[10]=f=>p("drag-end",f))},null,8,["element","selected","selected-id","config","zoom","dbMap","preview","parent-offset","parent-size"]))),128)),!l.preview&&(l.element.text||"").trim()&&(!l.element.children||l.element.children.length===0)?(v(),w("div",dt,ce(l.element.text),1)):D("",!0)],10,ct)):l.element.type==="line"?(v(),w("svg",{key:7,class:W(["w-full h-full",l.element.className].filter(Boolean).join(" ")),style:{display:"block"},width:l.element.width||1,height:l.element.height||1,xmlns:"http://www.w3.org/2000/svg"},[A("line",{x1:(((u=l.element.style)==null?void 0:u.lineOrientation)||"horizontal")==="vertical"?(l.element.width||1)/2:0,y1:(((h=l.element.style)==null?void 0:h.lineOrientation)||"horizontal")==="vertical"?0:(l.element.height||1)/2,x2:(((y=l.element.style)==null?void 0:y.lineOrientation)||"horizontal")==="vertical"?(l.element.width||1)/2:l.element.width||1,y2:(((b=l.element.style)==null?void 0:b.lineOrientation)||"horizontal")==="vertical"?l.element.height||1:(l.element.height||1)/2,stroke:((x=l.element.style)==null?void 0:x.lineColor)||"#42b883","stroke-width":(m=(M=l.element.style)==null?void 0:M.lineThickness)!=null?m:2,"stroke-dasharray":((d=l.element.style)==null?void 0:d.lineStyle)==="dashed"?`${(z=(S=l.element.style)==null?void 0:S.lineDashLength)!=null?z:6} ${(X=(L=l.element.style)==null?void 0:L.lineDashGap)!=null?X:4}`:void 0,"stroke-linecap":"round"},null,8,ft)],10,mt)):D("",!0)]),l.selected?(v(),w("div",ht)):D("",!0),l.selected?(v(),w("div",yt)):D("",!0),l.selected&&(!le.value||l.element.type==="chart")?(v(),w(E,{key:3},[A("div",{class:"absolute w-2 h-2 bg-emerald-500 rounded -left-1 -top-1 cursor-nwse-resize z-20",onMousedown:n[11]||(n[11]=de(c=>oe("nw",c),["stop"]))},null,32),A("div",{class:"absolute w-2 h-2 bg-emerald-500 rounded -right-1 -top-1 cursor-nesw-resize z-20",onMousedown:n[12]||(n[12]=de(c=>oe("ne",c),["stop"]))},null,32),A("div",{class:"absolute w-2 h-2 bg-emerald-500 rounded -left-1 -bottom-1 cursor-nesw-resize z-20",onMousedown:n[13]||(n[13]=de(c=>oe("sw",c),["stop"]))},null,32),A("div",{class:"absolute w-2 h-2 bg-emerald-500 rounded -right-1 -bottom-1 cursor-nwse-resize z-20",onMousedown:n[14]||(n[14]=de(c=>oe("se",c),["stop"]))},null,32)],64)):D("",!0)],46,_e)),[[Ke,e.element.hidden!==!0]])}}}),xt=Qe(gt,[["__scopeId","data-v-8b804656"]]);export{xt as t};
