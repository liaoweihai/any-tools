import{C as $e,E as v,I as Ge,O as se,P as _,R as L,S as q,_ as We,c as D,ct as be,d as E,f as p,h as He,k as Pe,l as I,lt as pe,o as $,st as V,u as we,w as Le}from"./codemirror-B25QCqWr.js";import{h as re,p as Ue}from"./vendor-vue-C93_ecI2.js";import{t as qe}from"./index-CoQSULRC.js";import{t as Ve}from"./echarts-xBohgwka.js";var Je=["data-el-id","data-box-id"],Ke={key:0,class:"absolute -inset-1 bg-gradient-to-r from-cyan-400/20 to-blue-500/20 rounded-lg blur-sm -z-10"},Qe={class:"relative z-10 w-full h-full"},Ze={key:0,class:"relative w-full h-full"},_e={key:1,class:"relative w-full h-full"},et={key:0},tt=["src"],nt=["id"],lt=["id"],it={key:0,class:"w-full h-full flex items-center justify-center text-xs text-gray-400 pointer-events-none"},ot=["width","height"],at=["x1","y1","x2","y2","stroke","stroke-width","stroke-dasharray"],st={key:1,class:"absolute inset-0 rounded-lg",style:{background:"linear-gradient(45deg, transparent 30%, rgba(6, 182, 212, 0.1) 50%, transparent 70%)","background-size":"200% 200%",animation:"tech-border 2s linear infinite"}},rt={key:2,class:"absolute -top-2 -right-2 w-4 h-4 bg-cyan-400 rounded-full cursor-move opacity-80 hover:opacity-100",style:{border:"0.5px solid #111827"}},ut=We({name:"DraggableBox",__name:"DraggableBox",props:{element:{},selected:{type:Boolean},config:{},zoom:{},dbMap:{},metricsMap:{},preview:{type:Boolean},selectedId:{},parentOffset:{},parentSize:{}},emits:["update:position","update:size","select","show-guidelines","hide-guidelines","report-metrics","drag-end"],setup(l,{emit:Be}){const e=l,w=Be;function Oe(t){var r,f,g,b;if(e.element.type!=="group")return!1;const n=e.element.width||0,s=e.element.height||0,i=t.width||0,o=t.height||0,a=Number((f=(r=t.left)!=null?r:t.x)!=null?f:0),u=Number((b=(g=t.top)!=null?g:t.y)!=null?b:0);return t.type==="image"&&n>0&&s>0&&i===n&&o===s&&a===0&&u===0}const F=L(null),ue=L(null);let z=null;const ee=L(!1),te=L(!1),J=L(0),K=L(0),G=L(0),W=L(0),de=L({x:0,y:0}),C=L(null),N=L(null),Y=L(null),H=L(0),P=L(0);let X=null;function xe(t){var n;return!t||!t.colors||t.colors.length<2?null:`linear-gradient(${(n=t.angle)!=null?n:0}deg, ${t.colors.join(", ")})`}function ce(){var t,n,s;if(e.element.type==="text"&&e.element.autoSize!==!1&&F.value){const i=F.value.getBoundingClientRect(),o=(t=e.zoom)!=null?t:1;return{w:Math.max(1,i.width/o),h:Math.max(1,i.height/o)}}return{w:(n=e.element.width)!=null?n:1,h:(s=e.element.height)!=null?s:1}}function Xe(t){e.preview||(t.preventDefault(),ee.value=!0,te.value=!1,J.value=t.clientX,K.value=t.clientY,G.value=e.element.left,W.value=e.element.top,de.value={x:0,y:0},window.addEventListener("mousemove",me,{passive:!1}),window.addEventListener("mouseup",ne),w("select",e.element.id))}function Ye(t){e.preview||(t.stopPropagation(),Xe(t))}function Re(t){e.preview||t.stopPropagation()}function me(t){var Q,Z;if(Y.value||!ee.value)return;if(!te.value){if(Math.abs(t.clientX-J.value)<3&&Math.abs(t.clientY-K.value)<3)return;te.value=!0}t.preventDefault();const n=(t.clientX-J.value)/((Q=e.zoom)!=null?Q:1),s=(t.clientY-K.value)/((Z=e.zoom)!=null?Z:1);de.value={x:n,y:s};let i=G.value+n,o=W.value+s;const a=ce(),u=!!e.parentSize,r=5,f=e.config.width,g=e.config.height;if(!u){Math.abs(i)<r&&(i=0),Math.abs(o)<r&&(o=0),Math.abs(i+a.w-f)<r&&(i=f-a.w),Math.abs(o+a.h-g)<r&&(o=g-a.h);const m=f/2,x=g/2,R=i+a.w/2,T=o+a.h/2;Math.abs(R-m)<r&&(i=m-a.w/2),Math.abs(T-x)<r&&(o=x-a.h/2)}const b=e.metricsMap?Object.values(e.metricsMap).filter(m=>m.id!==e.element.id):[],M=1.5,S=4;if(C.value){const m=i+a.w/2;let x=0;C.value.type==="left"?x=Math.abs(i-C.value.base):C.value.type==="right"?x=Math.abs(i+a.w-C.value.base):x=Math.abs(m-C.value.base),x<=S?C.value.type==="left"?i=C.value.base:C.value.type==="right"?i=C.value.base-a.w:i=C.value.base-a.w/2:C.value=null}if(N.value){const m=o+a.h/2;let x=0;N.value.type==="top"?x=Math.abs(o-N.value.base):N.value.type==="bottom"?x=Math.abs(o+a.h-N.value.base):x=Math.abs(m-N.value.base),x<=S?N.value.type==="top"?o=N.value.base:N.value.type==="bottom"?o=N.value.base-a.h:o=N.value.base-a.h/2:N.value=null}let c=null;for(const m of b){const x=Math.abs(i-m.left),R=Math.abs(i+a.w-m.right),T=Math.abs(i+a.w/2-m.centerX),U=[{type:"left",base:m.left,dist:x},{type:"right",base:m.right,dist:R},{type:"centerX",base:m.centerX,dist:T}];for(const A of U)(!c||A.dist<c.dist)&&(c=A)}c&&c.dist<=M&&(c.type==="left"?i=c.base:c.type==="right"?i=c.base-a.w:i=c.base-a.w/2,C.value={type:c.type,base:c.base});let y=null;for(const m of b){const x=Math.abs(o-m.top),R=Math.abs(o+a.h-m.bottom),T=Math.abs(o+a.h/2-m.centerY),U=[{type:"top",base:m.top,dist:x},{type:"bottom",base:m.bottom,dist:R},{type:"centerY",base:m.centerY,dist:T}];for(const A of U)(!y||A.dist<y.dist)&&(y=A)}y&&y.dist<=M&&(y.type==="top"?o=y.base:y.type==="bottom"?o=y.base-a.h:o=y.base-a.h/2,N.value={type:y.type,base:y.base}),u||(i=Math.max(0,Math.min(i,e.config.width-a.w)),o=Math.max(0,Math.min(o,e.config.height-a.h)));const k=u&&e.parentOffset?e.parentOffset.left:0,B=u&&e.parentOffset?e.parentOffset.top:0,O=i+k,j=o+B,d=i+a.w+k,h=o+a.h+B,oe=i+a.w/2+k,ae=o+a.h/2+B;w("show-guidelines",{left:O,top:j,right:d,bottom:h,centerX:oe,centerY:ae}),X&&cancelAnimationFrame(X),X=requestAnimationFrame(()=>{w("update:position",{id:e.element.id,left:Math.round(i),top:Math.round(o)})})}function ne(){var t;if(ee.value&&te.value){const n=(t=F.value)==null?void 0:t.getBoundingClientRect();n&&w("drag-end",{id:e.element.id,globalLeft:n.left,globalTop:n.top})}ee.value=!1,Y.value=null,de.value={x:0,y:0},C.value=null,N.value=null,w("hide-guidelines"),X&&(cancelAnimationFrame(X),X=null),window.removeEventListener("mousemove",me),window.removeEventListener("mouseup",ne),window.removeEventListener("mousemove",ve)}$e(()=>{X&&(cancelAnimationFrame(X),X=null),window.removeEventListener("mousemove",me),window.removeEventListener("mouseup",ne),window.removeEventListener("mousemove",ve),z&&(z.dispose(),z=null)});const le=D(()=>e.element.type==="text"?e.element.autoSize!==!1:!1);function Te(t){switch(t){case"left":return"flex-start";case"center":return"center";case"right":return"flex-end";default:return"flex-start"}}const Ae=D(()=>{var s,i,o,a,u,r,f,g,b,M,S,c;const t={color:((s=e.element.style)==null?void 0:s.color)||e.config.globalColor,fontFamily:((i=e.element.style)==null?void 0:i.fontFamily)||e.config.globalFontFamily,fontSize:`${(a=(o=e.element.style)==null?void 0:o.fontSize)!=null?a:e.config.globalFontSize}px`};((u=e.element.style)==null?void 0:u.letterSpacing)!==void 0&&e.element.style.letterSpacing!==null&&(t.letterSpacing=`${e.element.style.letterSpacing}px`),((r=e.element.style)==null?void 0:r.lineHeight)!==void 0&&(t.lineHeight=String(e.element.style.lineHeight)),(f=e.element.style)!=null&&f.fontStyle&&(t.fontStyle=e.element.style.fontStyle),(g=e.element.style)!=null&&g.fontWeight&&(t.fontWeight=e.element.style.fontWeight),(b=e.element.style)!=null&&b.textAlign&&(t.textAlign=e.element.style.textAlign),(M=e.element.style)!=null&&M.textDecoration&&(t.textDecoration=e.element.style.textDecoration),((S=e.element.style)==null?void 0:S.textOrientation)==="vertical"&&(t.writingMode="vertical-rl",t.textOrientation="upright");const n=xe((c=e.element.style)==null?void 0:c.textGradient);return n&&(t.background=n,t.color="transparent",t["-webkit-background-clip"]="text",t["background-clip"]="text",t["-webkit-text-fill-color"]="transparent"),t}),Fe=D(()=>{var u,r,f,g,b,M,S,c,y,k,B,O;const t={position:"absolute",left:`${e.element.left}px`,top:`${e.element.top}px`,cursor:e.preview?((u=e.element.eventBinding)==null?void 0:u.enabled)&&((r=e.element.eventBinding)==null?void 0:r.cursor)||"default":"move",outline:e.preview?"none":e.selected?"0.5px solid #42b883":"0.5px solid #999",zIndex:`${(f=e.element.zIndex)!=null?f:1}`,boxSizing:"border-box"},n=xe((g=e.element.style)==null?void 0:g.backgroundGradient);n?t.background=n:t.background=((b=e.element.style)==null?void 0:b.backgroundColor)||"transparent",le.value?t.display="inline-block":(t.width=`${(M=e.element.width)!=null?M:1}px`,t.height=`${(S=e.element.height)!=null?S:1}px`,t.display="block"),((c=e.element.style)==null?void 0:c.opacity)!==void 0&&(t.opacity=String(e.element.style.opacity));const s="1px dashed rgba(148,163,184,0.6)",i=(y=e.element.style)==null?void 0:y.border;i&&i!==s?t.border=i:e.element.type==="container"&&!e.preview?t.border=s:e.preview&&(t.border="none"),(k=e.element.style)!=null&&k.borderRadius&&(t.borderRadius=e.element.style.borderRadius),(B=e.element.style)!=null&&B.boxShadow&&(t.boxShadow=String(e.element.style.boxShadow));const o=(O=e.element.style)==null?void 0:O.skewAngle,a=typeof o=="number"?o:Number(o);return!Number.isNaN(a)&&a!==0&&(t.transform=`skewX(${a}deg)`),t}),je=D(()=>e.preview?["absolute","select-none","border-none","outline-none"]:["absolute cursor-move select-none transition-shadow duration-100","border-transparent hover:border-cyan-400/50","hover:shadow-lg hover:shadow-cyan-400/20","group",{"border-cyan-400 shadow-lg shadow-cyan-400/30 ring-2 ring-cyan-400/20":e.selected}]),De=D(()=>{var n;const t={...Ae.value,pointerEvents:e.preview?"auto":"none"};return le.value?(t.display="flex",t.alignItems="center",t.justifyContent=Te((n=e.element.style)==null?void 0:n.textAlign)):(t.display="block",t.whiteSpace="pre-wrap",t.wordBreak="break-word",t.overflow="hidden"),t});function fe(){var b,M,S;const t=(b=e.zoom)!=null?b:1,n=F.value?F.value.getBoundingClientRect():null,s=n?Math.max(1,n.width/t):(M=e.element.width)!=null?M:1,i=n?Math.max(1,n.height/t):(S=e.element.height)!=null?S:1,o=e.element.left,a=e.element.top,u=o+s,r=a+i,f=o+s/2,g=a+i/2;w("report-metrics",{id:e.element.id,left:o,top:a,width:s,height:i,right:u,bottom:r,centerX:f,centerY:g})}Le(()=>{q(()=>fe())}),_(()=>[e.element.left,e.element.top,e.element.width,e.element.height],()=>{q(()=>fe())});function Ee(t,n){if(!t||!n)return;const s=n.replace(/\[(\d+)\]/g,".$1").split(".").filter(Boolean);let i=t;for(const o of s){if(i==null)return;i=i[Number.isInteger(Number(o))?Number(o):o]}return i}const he=D(()=>{var u,r;if(e.element.type!=="text"){const f=e.element.text;return f==null?"":String(f)}const t=e.element.dynamic,n=(u=e.element.text)!=null?u:"";if(!t||!t.enabled)return String(n);const s=t.objectName||"",i=t.propertyPath||"";if(!s||!i)return String(n);const o=(r=e.dbMap)==null?void 0:r[s];if(!o)return String(n);const a=Ee(o,i);if(a==null)return String(n);if(typeof a=="string")return a;if(typeof a=="number"||typeof a=="boolean")return String(a);try{return JSON.stringify(a)}catch{return String(n)}}),Me=D(()=>{var d,h,oe,ae,Q,Z,m,x,R,T,U,A,ze;const t=String(he.value||""),n=(d=e.element.style)==null?void 0:d.textWave,s=!!((h=e.element.style)!=null&&h.skewFlowEnabled),i=(oe=e.element.style)==null?void 0:oe.skewAngle,o=typeof i=="number"?i:Number(i);if((!n||!n.enabled)&&(!s||Number.isNaN(o)||o===0))return null;const a=((ae=e.element.style)==null?void 0:ae.textOrientation)||"horizontal",u=Number((Z=(Q=e.element.style)==null?void 0:Q.fontSize)!=null?Z:e.config.globalFontSize),r=Number((x=(m=e.element.style)==null?void 0:m.letterSpacing)!=null?x:0),f=Number((T=(R=e.element.style)==null?void 0:R.lineHeight)!=null?T:Math.round(u*1.2)),g=Math.tan(o*Math.PI/180),b=Math.max(1,Math.round(u*.6+r)),M=Math.max(1,Math.round(f)),S=Number((U=n==null?void 0:n.amplitude)!=null?U:8),c=Number((A=n==null?void 0:n.frequency)!=null?A:.5),y=Number((ze=n==null?void 0:n.phase)!=null?ze:0),k=[];let B=0,O=0,j=0;for(const Ce of t){if(Ce===`
`){k.push({type:"br"}),O=0,j++;continue}let Ne=0,ye=0;if(s&&!Number.isNaN(o)&&o!==0)if(a==="horizontal"){const ge=O*b;ye+=Math.round(g*ge)}else{const ge=j*M;Ne+=Math.round(g*ge)}n&&n.enabled&&(ye+=Math.round(S*Math.sin(B*c+y))),k.push({type:"char",ch:Ce,style:{display:"inline-block",transform:`translate(${Ne}px, ${ye}px)`}}),B++,O++}return k});_(he,()=>{q(()=>fe())});function ie(t,n){var s,i;e.element.type==="text"&&le.value||(Y.value=t,J.value=n.clientX,K.value=n.clientY,G.value=e.element.left,W.value=e.element.top,H.value=(s=e.element.width)!=null?s:ce().w,P.value=(i=e.element.height)!=null?i:ce().h,window.addEventListener("mousemove",ve),window.addEventListener("mouseup",ne))}function ve(t){var y,k;if(!Y.value)return;const n=(t.clientX-J.value)/((y=e.zoom)!=null?y:1),s=(t.clientY-K.value)/((k=e.zoom)!=null?k:1);let i=H.value,o=P.value,a=G.value,u=W.value;const r=10;Y.value==="se"?(i=Math.max(r,H.value+n),o=Math.max(r,P.value+s)):Y.value==="ne"?(i=Math.max(r,H.value+n),o=Math.max(r,P.value-s),u=W.value+s):Y.value==="sw"?(i=Math.max(r,H.value-n),o=Math.max(r,P.value+s),a=G.value+n):Y.value==="nw"&&(i=Math.max(r,H.value-n),o=Math.max(r,P.value-s),a=G.value+n,u=W.value+s),i=Math.min(i,e.config.width-a),o=Math.min(o,e.config.height-u);const f=a,g=u,b=a+i,M=u+o,S=a+i/2,c=u+o/2;w("show-guidelines",{left:f,top:g,right:b,bottom:M,centerX:S,centerY:c}),w("update:size",{id:e.element.id,width:Math.round(i),height:Math.round(o),left:Math.round(a),top:Math.round(u)})}q(()=>{var t;(t=F.value)==null||t.getBoundingClientRect()});function Se(){if(e.element.type!=="chart"||!ue.value)return;z||(z=Ve(ue.value));const t=e.element.chartOption||Ie(e.element.chartType||"line");z.setOption(t,!0)}function Ie(t){return t==="pie"?{backgroundColor:"transparent",tooltip:{trigger:"item"},legend:{top:"5%",left:"center",textStyle:{color:"#fff"}},series:[{name:"分类占比",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:8,borderColor:"#111",borderWidth:2},label:{show:!0,color:"#fff"},labelLine:{show:!0},data:[{value:1048,name:"A"},{value:735,name:"B"},{value:580,name:"C"},{value:484,name:"D"},{value:300,name:"E"}]}]}:t==="mix"?{backgroundColor:"transparent",color:["#00bcd4","#ff9800"],tooltip:{trigger:"axis"},legend:{textStyle:{color:"#fff"}},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLine:{lineStyle:{color:"#888"}},axisLabel:{color:"#ccc"}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#888"}},axisLabel:{color:"#ccc"}},series:[{name:"销量",type:"bar",data:[120,200,150,80,70,110,130],itemStyle:{borderRadius:[4,4,0,0]}},{name:"均价",type:"line",smooth:!0,data:[30,40,45,50,49,60,70],lineStyle:{width:2}}]}:t==="bar"?{backgroundColor:"transparent",color:["#42b883"],tooltip:{trigger:"axis"},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLine:{lineStyle:{color:"#888"}},axisLabel:{color:"#ccc"}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#888"}},axisLabel:{color:"#ccc"}},series:[{type:"bar",data:[120,200,150,80,70,110,130],itemStyle:{borderRadius:[4,4,0,0]}}]}:{backgroundColor:"transparent",color:["#42b883"],tooltip:{trigger:"axis"},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLine:{lineStyle:{color:"#888"}},axisLabel:{color:"#ccc"}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#888"}},axisLabel:{color:"#ccc"}},series:[{type:"line",smooth:!0,data:[150,230,224,218,135,147,260],lineStyle:{width:2}}]}}Le(()=>{Se()}),_(()=>e.element.type,()=>{e.element.type==="chart"?q(Se):z&&(z.dispose(),z=null)}),_(()=>e.element.chartOption,t=>{z&&e.element.type==="chart"&&t&&z.setOption(t,!0)},{deep:!0}),_(()=>[e.element.width,e.element.height,e.element.left,e.element.top],()=>{z&&q(()=>z&&z.resize())});function ke(t){const n=!!e.parentSize,s=n&&e.parentOffset?e.parentOffset.left:0,i=n&&e.parentOffset?e.parentOffset.top:0;w("show-guidelines",{left:t.left+s,top:t.top+i,right:t.right+s,bottom:t.bottom+i,centerX:t.centerX+s,centerY:t.centerY+i})}return(t,n)=>{var i,o,a,u,r,f,g,b,M,S,c,y,k,B,O,j;const s=Pe("DraggableBox",!0);return Ge((v(),p("div",{class:V(je.value),style:be(Fe.value),onMousedown:Ye,onClick:Re,ref_key:"elRef",ref:F,"data-el-id":e.element.id,"data-box-id":e.element.id},[l.selected?(v(),p("div",Ke)):E("",!0),I("div",Qe,[l.element.type==="group"&&l.preview?(v(),p("div",Ze,[(v(!0),p($,null,se(l.element.children||[],d=>(v(),we(s,{key:d.id,element:d,selected:!1,config:l.config,zoom:l.zoom,dbMap:l.dbMap,preview:!0},null,8,["element","config","zoom","dbMap"]))),128))])):l.element.type==="group"&&l.element.editable?(v(),p("div",_e,[(v(!0),p($,null,se(l.element.children||[],d=>(v(),we(s,{key:d.id,element:d,selected:l.selectedId===d.id,"selected-id":l.selectedId,config:l.config,zoom:l.zoom,dbMap:l.dbMap,"metrics-map":void 0,preview:Oe(d),"parent-offset":{left:l.element.left,top:l.element.top},"parent-size":{width:l.element.width||1,height:l.element.height||1},onSelect:n[0]||(n[0]=h=>w("select",h)),"onUpdate:position":n[1]||(n[1]=h=>w("update:position",h)),"onUpdate:size":n[2]||(n[2]=h=>w("update:size",h)),onShowGuidelines:ke,onHideGuidelines:n[3]||(n[3]=()=>w("hide-guidelines")),onReportMetrics:n[4]||(n[4]=h=>w("report-metrics",h))},null,8,["element","selected","selected-id","config","zoom","dbMap","preview","parent-offset","parent-size"]))),128))])):E("",!0),l.element.type==="text"?(v(),p("div",{key:2,class:V(["w-full h-full",l.element.className].filter(Boolean).join(" ")),style:be(De.value)},[Me.value?(v(!0),p($,{key:0},se(Me.value,(d,h)=>(v(),p($,{key:h},[d.type==="br"?(v(),p("br",et)):(v(),p("span",{key:1,style:be(d.style)},pe(d.ch),5))],64))),128)):(v(),p($,{key:1},[He(pe(he.value),1)],64))],6)):l.element.type==="image"?(v(),p("img",{key:3,src:l.element.src,class:V(["w-full h-full",((i=l.element.style)==null?void 0:i.objectFit)==="contain"?"object-contain":((o=l.element.style)==null?void 0:o.objectFit)==="fill"?"object-fill":((a=l.element.style)==null?void 0:a.objectFit)==="scale-down"?"object-scale-down":((u=l.element.style)==null?void 0:u.objectFit)==="none"?"object-none":"object-cover",l.element.className].filter(Boolean).join(" ")),alt:"Image element"},null,10,tt)):l.element.type==="chart"?(v(),p("div",{key:4,class:V(["w-full h-full bg-gray-800/50 rounded",l.element.className].filter(Boolean).join(" ")),id:l.element.elementId||void 0},[I("div",{ref_key:"chartRef",ref:ue,class:"w-full h-full"},null,512)],10,nt)):l.element.type==="container"?(v(),p("div",{key:5,class:V(["w-full h-full relative",l.element.className].filter(Boolean).join(" ")),id:l.element.elementId||void 0,style:{display:"block"}},[(v(!0),p($,null,se(l.element.children||[],d=>(v(),we(s,{key:d.id,element:d,selected:l.selectedId===d.id,"selected-id":l.selectedId,config:l.config,zoom:l.zoom,dbMap:l.dbMap,"metrics-map":void 0,preview:l.preview,"parent-offset":{left:l.element.left,top:l.element.top},"parent-size":{width:l.element.width||1,height:l.element.height||1},onSelect:n[5]||(n[5]=h=>w("select",h)),"onUpdate:position":n[6]||(n[6]=h=>w("update:position",h)),"onUpdate:size":n[7]||(n[7]=h=>w("update:size",h)),onShowGuidelines:ke,onHideGuidelines:n[8]||(n[8]=()=>w("hide-guidelines")),onReportMetrics:n[9]||(n[9]=h=>w("report-metrics",h)),onDragEnd:n[10]||(n[10]=h=>w("drag-end",h))},null,8,["element","selected","selected-id","config","zoom","dbMap","preview","parent-offset","parent-size"]))),128)),!l.preview&&(l.element.text||"").trim()&&(!l.element.children||l.element.children.length===0)?(v(),p("div",it,pe(l.element.text),1)):E("",!0)],10,lt)):l.element.type==="line"?(v(),p("svg",{key:6,class:V(["w-full h-full",l.element.className].filter(Boolean).join(" ")),style:{display:"block"},width:l.element.width||1,height:l.element.height||1,xmlns:"http://www.w3.org/2000/svg"},[I("line",{x1:(((r=l.element.style)==null?void 0:r.lineOrientation)||"horizontal")==="vertical"?(l.element.width||1)/2:0,y1:(((f=l.element.style)==null?void 0:f.lineOrientation)||"horizontal")==="vertical"?0:(l.element.height||1)/2,x2:(((g=l.element.style)==null?void 0:g.lineOrientation)||"horizontal")==="vertical"?(l.element.width||1)/2:l.element.width||1,y2:(((b=l.element.style)==null?void 0:b.lineOrientation)||"horizontal")==="vertical"?l.element.height||1:(l.element.height||1)/2,stroke:((M=l.element.style)==null?void 0:M.lineColor)||"#42b883","stroke-width":(c=(S=l.element.style)==null?void 0:S.lineThickness)!=null?c:2,"stroke-dasharray":((y=l.element.style)==null?void 0:y.lineStyle)==="dashed"?`${(B=(k=l.element.style)==null?void 0:k.lineDashLength)!=null?B:6} ${(j=(O=l.element.style)==null?void 0:O.lineDashGap)!=null?j:4}`:void 0,"stroke-linecap":"round"},null,8,at)],10,ot)):E("",!0)]),l.selected?(v(),p("div",st)):E("",!0),l.selected?(v(),p("div",rt)):E("",!0),l.selected&&(!le.value||l.element.type==="chart")?(v(),p($,{key:3},[I("div",{class:"absolute w-2 h-2 bg-emerald-500 rounded -left-1 -top-1 cursor-nwse-resize z-20",onMousedown:n[11]||(n[11]=re(d=>ie("nw",d),["stop"]))},null,32),I("div",{class:"absolute w-2 h-2 bg-emerald-500 rounded -right-1 -top-1 cursor-nesw-resize z-20",onMousedown:n[12]||(n[12]=re(d=>ie("ne",d),["stop"]))},null,32),I("div",{class:"absolute w-2 h-2 bg-emerald-500 rounded -left-1 -bottom-1 cursor-nesw-resize z-20",onMousedown:n[13]||(n[13]=re(d=>ie("sw",d),["stop"]))},null,32),I("div",{class:"absolute w-2 h-2 bg-emerald-500 rounded -right-1 -bottom-1 cursor-nwse-resize z-20",onMousedown:n[14]||(n[14]=re(d=>ie("se",d),["stop"]))},null,32)],64)):E("",!0)],46,Je)),[[Ue,e.element.hidden!==!0]])}}}),ht=qe(ut,[["__scopeId","data-v-3804ed31"]]);export{ht as t};
